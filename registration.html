<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSBT E-Sports - Registration</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="registration.css">
    <style>
        .required::after {
            content: " *";
            color: #ff4444;
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="nav-brand">
            <span class="lightning">âš¡</span>
            <span class="brand-name">CSBT E-Sports</span>
        </div>
        <div class="nav-links">
            <a href="index.html">Home</a>
            <a href="#leaderboard">Leaderboard</a>
            <a href="#about">About</a>
            <a href="#blog">Blog</a>
            <a href="#contact">Contact Us</a>
        </div>
    </nav>

    <div class="registration-container">
        <form class="registration-form" id="registrationForm">
            <h2>CSBT Esports Squad Registration Form</h2>
            
            <div class="form-section">
                <h3>Squad Details</h3>
                <div class="form-group">
                    <label for="squadName">1. Squad Name</label>
                    <input type="text" id="squadName" required>
                    <span class="error-message">Squad name is required</span>
                </div>
                <div class="form-group">
                    <label for="leaderName">2. Team Leader Name</label>
                    <input type="text" id="leaderName" pattern="[A-Za-z ]{2,50}" required>
                    <span class="error-message">Please enter a valid name (only letters allowed)</span>
                </div>
                <div class="form-group">
                    <label for="leaderBGMI">3. Team Leader BGMI ID</label>
                    <input type="text" id="leaderBGMI" required>
                    <span class="error-message">BGMI ID is required</span>
                </div>
                <div class="form-group">
                    <label for="leaderIGN">4. Team Leader BGMI In-Game Name (IGN)</label>
                    <input type="text" id="leaderIGN" required>
                    <span class="error-message">In-game name is required</span>
                </div>
                <div class="form-group">
                    <label for="email">5. Email Address</label>
                    <input type="email" id="email" required>
                    <span class="error-message">Please enter a valid email address</span>
                </div>
                <div class="form-group">
                    <label for="phone">6. Phone Number</label>
                    <div class="phone-input">
                        <span class="country-code">+91</span>
                        <input type="tel" id="phone" pattern="[0-9]{10}" maxlength="10" required>
                    </div>
                    <span class="error-message">Please enter a valid 10-digit mobile number</span>
                </div>
            </div>

            <div class="form-section">
                <h3>Team Players</h3>
                
                <div class="player-section">
                    <h4>ðŸ”¹ Player 2</h4>
                    <div class="form-group">
                        <label for="player2Name">Name</label>
                        <input type="text" id="player2Name" required>
                        <span class="error-message">Player 2 name is required</span>
                    </div>
                    <div class="form-group">
                        <label for="player2BGMI">BGMI ID</label>
                        <input type="text" id="player2BGMI" required>
                        <span class="error-message">Player 2 BGMI ID is required</span>
                    </div>
                    <div class="form-group">
                        <label for="player2IGN">BGMI IGN</label>
                        <input type="text" id="player2IGN" required>
                        <span class="error-message">Player 2 IGN is required</span>
                    </div>
                </div>

                <div class="player-section">
                    <h4>ðŸ”¹ Player 3</h4>
                    <div class="form-group">
                        <label for="player3Name">Name</label>
                        <input type="text" id="player3Name" required>
                        <span class="error-message">Player 3 name is required</span>
                    </div>
                    <div class="form-group">
                        <label for="player3BGMI">BGMI ID</label>
                        <input type="text" id="player3BGMI" required>
                        <span class="error-message">Player 3 BGMI ID is required</span>
                    </div>
                    <div class="form-group">
                        <label for="player3IGN">BGMI IGN</label>
                        <input type="text" id="player3IGN" required>
                        <span class="error-message">Player 3 IGN is required</span>
                    </div>
                </div>

                <div class="player-section">
                    <h4>ðŸ”¹ Player 4</h4>
                    <div class="form-group">
                        <label for="player4Name">Name</label>
                        <input type="text" id="player4Name" required>
                        <span class="error-message">Player 4 name is required</span>
                    </div>
                    <div class="form-group">
                        <label for="player4BGMI">BGMI ID</label>
                        <input type="text" id="player4BGMI" required>
                        <span class="error-message">Player 4 BGMI ID is required</span>
                    </div>
                    <div class="form-group">
                        <label for="player4IGN">BGMI IGN</label>
                        <input type="text" id="player4IGN" required>
                        <span class="error-message">Player 4 IGN is required</span>
                    </div>
                </div>
            </div>

            <div class="form-section">
                <h3>Substitute Player (Optional)</h3>
                <div class="player-section">
                    <div class="form-group">
                        <label for="subName">Name</label>
                        <input type="text" id="subName">
                    </div>
                    <div class="form-group">
                        <label for="subBGMI">BGMI ID</label>
                        <input type="text" id="subBGMI">
                    </div>
                    <div class="form-group">
                        <label for="subIGN">BGMI IGN</label>
                        <input type="text" id="subIGN">
                    </div>
                </div>
            </div>

            <div class="form-section">
                <h3>Agreements</h3>
                <div class="agreement-box">
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="terms" required checked disabled>
                        <label for="terms" class="required">I agree to the <a href="#" id="termsLink">Terms & Conditions</a></label>
                    </div>
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="rules" required checked disabled>
                        <label for="rules" class="required">I agree to follow the <a href="#" id="rulesLink">Rules & Regulations</a></label>
                    </div>
                </div>
            </div>

            <button type="submit" class="submit-btn" id="submitBtn" disabled>Proceed to Payment</button>
        </form>
    </div>

    <!-- Add this modal HTML at the end of the body tag, before scripts -->
    <div id="termsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Terms & Conditions for Payment</h2>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <ol class="terms-list">
                    <li>
                        <strong>Non-Refundable Payment</strong>
                        The registration fee is non-refundable under any circumstances, including disqualification, absence, or withdrawal from the tournament.
                    </li>
                    <li>
                        <strong>Correct Payment Details</strong>
                        Players must ensure they enter the correct payment details and transaction ID while registering. Any incorrect details may result in disqualification.
                    </li>
                    <li>
                        <strong>Payment Confirmation</strong>
                        Once the payment is successfully made, players will receive a confirmation message or email. If not received within 24 hours, players must contact support with proof of payment.
                    </li>
                    <li>
                        <strong>No Transfers</strong>
                        Registration fees cannot be transferred to another tournament, player, or event.
                    </li>
                    <li>
                        <strong>Fraudulent Transactions</strong>
                        Any fraudulent or unauthorized transactions will lead to immediate disqualification and potential legal action.
                    </li>
                    <li>
                        <strong>Tournament Cancellation</strong>
                        In case of event cancellation by CSBT Esports, players will be eligible for a full refund, which will be processed within 7-10 working days.
                    </li>
                    <li>
                        <strong>Payment Deadline</strong>
                        Registration fees must be paid before the deadline. Late payments will not be accepted, and entry will be denied.
                    </li>
                    <li>
                        <strong>Receipt of Payment</strong>
                        Players must keep a screenshot or proof of payment until the tournament begins, as it may be required for verification.
                    </li>
                </ol>
            </div>
        </div>
    </div>

    <!-- Add another modal for Rules & Regulations -->
    <div id="rulesModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Rules & Regulations - CSBT Esports BGMI Tournament</h2>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <p class="rules-intro">To ensure a fair and competitive environment, all players must follow these rules:</p>
                
                <div class="rules-section">
                    <h3>1. General Rules</h3>
                    <ul class="rules-list">
                        <li>Players must register with their correct in-game name and ID.</li>
                        <li>Only registered players are allowed to participate.</li>
                        <li>Players must join the lobby on time; late entries will not be entertained.</li>
                        <li>The use of emulators, hacks, scripts, or third-party software is strictly prohibited.</li>
                    </ul>
                </div>

                <div class="rules-section">
                    <h3>2. Match Rules</h3>
                    <ul class="rules-list">
                        <li>Players must play on the official BGMI app.</li>
                        <li>Teaming, hacking, or cheating will lead to immediate disqualification.</li>
                        <li>Intentional disconnections will not be considered for rematches.</li>
                        <li>If a match is interrupted due to server issues, it will be rescheduled.</li>
                    </ul>
                </div>

                <div class="rules-section">
                    <h3>3. Scoring & Ranking</h3>
                    <ul class="rules-list">
                        <li>The tournament will follow a points-based ranking system.</li>
                        <li>Kill points & placement points will determine the final ranking.</li>
                        <li>Position points: 1st = 15pts, 2nd = 12pts, 3rd = 10pts, 4th = 8pts, 5th = 6pts, 6th-7th = 4pts, 8th-9th = 2pts, 10th-12th = 1pt.</li>
                        <li>Each kill will award 1 point to the team.</li>
                        <li>The MVP Award goes to the player with the most kills in the final match.</li>
                        <li>The Kill Leader is the player with the highest kills throughout the tournament.</li>
                        <li>The Player of the Season is awarded based on overall performance.</li>
                        <li>In case of a tie, the team with more kill points will be ranked higher.</li>
                    </ul>
                </div>

                <div class="rules-section">
                    <h3>4. Conduct & Fair Play</h3>
                    <ul class="rules-list">
                        <li>Players must maintain sportsmanship and respect towards opponents and organizers.</li>
                        <li>Toxic behavior, abusive language, or harassment will result in a ban.</li>
                        <li>Any attempt to manipulate results (e.g., teaming) will lead to disqualification.</li>
                        <li>Players must follow the instructions of tournament administrators.</li>
                        <li>Disputes must be reported immediately to tournament officials with proper evidence.</li>
                        <li>Decisions made by tournament officials are final and binding.</li>
                    </ul>
                </div>

                <div class="rules-section">
                    <h3>5. Streaming & Content</h3>
                    <ul class="rules-list">
                        <li>Players must seek permission before streaming tournament matches.</li>
                        <li>Organizers hold the right to stream, record, and use gameplay content for promotional purposes.</li>
                        <li>Players streaming matches must have a minimum delay of 5 minutes.</li>
                        <li>Stream sniping is strictly prohibited and will result in immediate disqualification.</li>
                        <li>Players must maintain professional conduct during streams and interviews.</li>
                    </ul>
                </div>

                <div class="rules-section">
                    <h3>6. Technical Requirements</h3>
                    <ul class="rules-list">
                        <li>Players must have a stable internet connection.</li>
                        <li>All players must join the tournament Discord server for communication.</li>
                        <li>Players must record their gameplay for verification if required.</li>
                        <li>Device specifications must meet BGMI's minimum requirements.</li>
                        <li>Players are responsible for their own technical issues.</li>
                    </ul>
                </div>

                <p class="rules-footer">
                    Failure to follow these rules may result in warnings, disqualifications, or bans. Play fair and let the best player win!
                </p>
            </div>
        </div>
    </div>

    <script>
        const form = document.getElementById('registrationForm');
        const submitBtn = document.getElementById('submitBtn');
        const termsCheckbox = document.getElementById('terms');
        
        // Error messages in English
        const errorMessages = {
            squadName: "Squad name is required",
            leaderName: "Please enter a valid name (only letters allowed)",
            leaderBGMI: "BGMI ID is required",
            leaderIGN: "In-game name is required",
            email: "Please enter a valid email address",
            phone: "Please enter a valid 10-digit mobile number",
            player2Name: "Player 2 name is required",
            player2BGMI: "Player 2 BGMI ID is required",
            player2IGN: "Player 2 IGN is required",
            player3Name: "Player 3 name is required",
            player3BGMI: "Player 3 BGMI ID is required",
            player3IGN: "Player 3 IGN is required",
            player4Name: "Player 4 name is required",
            player4BGMI: "Player 4 BGMI ID is required",
            player4IGN: "Player 4 IGN is required"
        };

        // Hide all error messages initially
        document.querySelectorAll('.error-message').forEach(error => {
            error.style.display = 'none';
        });

        // Validate individual input
        function validateInput(input) {
            const errorElement = input.nextElementSibling;
            if (!errorElement) return true;

            let isValid = true;
            let errorMessage = '';

            // Only validate if the input has been touched
            if (input.value.trim() !== '') {
                switch(input.id) {
                    case 'leaderName':
                        isValid = /^[A-Za-z ]{2,50}$/.test(input.value);
                        errorMessage = errorMessages.leaderName;
                        break;
                    case 'email':
                        isValid = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(input.value);
                        errorMessage = errorMessages.email;
                        break;
                    case 'phone':
                        isValid = /^[0-9]{10}$/.test(input.value);
                        errorMessage = errorMessages.phone;
                        break;
                    default:
                        isValid = input.value.trim() !== '';
                        errorMessage = errorMessages[input.id];
                }

                if (!isValid) {
                    errorElement.textContent = errorMessage;
                    errorElement.style.display = 'block';
                    input.classList.add('invalid');
                } else {
                    errorElement.style.display = 'none';
                    input.classList.remove('invalid');
                    input.classList.add('valid');
                }
            } else {
                errorElement.style.display = 'none';
                input.classList.remove('invalid', 'valid');
            }

            return isValid;
        }

        // Input event listeners
        form.querySelectorAll('input').forEach(input => {
            // Don't show errors initially
            input.classList.remove('invalid', 'valid');
            
            input.addEventListener('blur', function() {
                // Only validate if the input has been touched and has a value
                if (this.value.trim() !== '') {
                    validateInput(this);
                }
            });

            input.addEventListener('input', function() {
                // Validate on input only if the field was previously invalid
                if (this.classList.contains('invalid')) {
                    validateInput(this);
                }
            });
        });

        // Modal related code
        const modals = {
            terms: document.getElementById('termsModal'),
            rules: document.getElementById('rulesModal')
        };

        const termsLink = document.getElementById('termsLink');
        const rulesLink = document.getElementById('rulesLink');
        const closeBtns = document.querySelectorAll('.close');

        // Function to open modal
        function openModal(modalId) {
            modals[modalId].style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        // Function to close modal
        function closeModal(modalId) {
            modals[modalId].style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        // Open modals when clicking on links
        termsLink.addEventListener('click', function(e) {
            e.preventDefault();
            openModal('terms');
        });

        rulesLink.addEventListener('click', function(e) {
            e.preventDefault();
            openModal('rules');
        });

        // Close modals when clicking on X buttons
        closeBtns.forEach(btn => {
            btn.addEventListener('click', function() {
                const modalId = this.closest('.modal').id.replace('Modal', '');
                closeModal(modalId);
            });
        });

        // Close modals when clicking outside
        window.addEventListener('click', function(e) {
            if (e.target.classList.contains('modal')) {
                const modalId = e.target.id.replace('Modal', '');
                closeModal(modalId);
            }
        });

        // Close modals with Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                for (let modalId in modals) {
                    if (modals[modalId].style.display === 'block') {
                        closeModal(modalId);
                    }
                }
            }
        });

        // Form validation
        function validateForm() {
            const requiredInputs = form.querySelectorAll('input[required]');
            let isValid = true;
            
            requiredInputs.forEach(input => {
                if (input.value.trim() !== '') {
                    if (!validateInput(input)) {
                        isValid = false;
                    }
                }
            });
            
            // Check both checkboxes
            if (!termsCheckbox.checked) {
                isValid = false;
            }
            
            submitBtn.disabled = !isValid;
            return isValid;
        }

        // Form submission
        form.addEventListener('submit', (e) => {
            e.preventDefault();
            
            // Validate all fields on form submission
            const isValid = validateForm();
            
            if (isValid) {
                window.location.href = 'payment.html';
            } else {
                // Show errors for all empty required fields
                form.querySelectorAll('input[required]').forEach(input => {
                    if (!input.value.trim()) {
                        const errorElement = input.nextElementSibling;
                        if (errorElement) {
                            errorElement.textContent = errorMessages[input.id];
                            errorElement.style.display = 'block';
                            input.classList.add('invalid');
                        }
                    }
                });
            }
        });

        // Add event listeners for both checkboxes
        termsCheckbox.addEventListener('change', validateForm);
    </script>
</body>
</html> 